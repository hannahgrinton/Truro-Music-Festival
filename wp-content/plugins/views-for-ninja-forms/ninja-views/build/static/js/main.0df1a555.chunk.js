(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,t){},105:function(e,a,t){},107:function(e,a,t){},109:function(e,a,t){},119:function(e,a,t){},121:function(e,a,t){},123:function(e,a,t){},125:function(e,a,t){},127:function(e,a,t){},129:function(e,a,t){"use strict";t.r(a);var l=t(0),s=t.n(l),n=t(28),o=t.n(n),c=t(7),i=t(5),r=t(2),m=t(46),u=t(47),d=t(53),p=t(48),y=t(54),N=t(9),v=t(6),E=t(3),f=function(e){return s.a.createElement("option",{value:e.formId},e.label)},C=(t(61),function(e){return s.a.createElement("div",{className:"viewSourceCont pure-form viewSectionContainer view-type"},s.a.createElement("legend",null,"Select View Type"),s.a.createElement("fieldset",null,s.a.createElement("label",null,s.a.createElement("input",{type:"radio",value:"table",checked:"table"==e.viewType,onChange:e.onchange})," Table"),s.a.createElement("label",null)))}),b=function(e){return s.a.createElement("li",{className:"pure-menu-item ".concat(e.activetab==e.tabName?"viewTabActive":"")},s.a.createElement("a",{href:"#",id:e.tabName,className:"pure-menu-link",onClick:e.tabClickHandler},e.label))},w=(t(63),function(e){var a=e.fieldProps,t=e.fieldId,l=e.allFields[t].fieldSettings,n=l.useCustomLabel?l.label:e.allFields[t].label;return s.a.createElement(v.b,{type:e.sectionName,draggableId:t,index:e.index},function(l,o){var c=o.isDragging?"activeField":"";return s.a.createElement("div",Object.assign({className:"".concat(c," field")},l.draggableProps,l.dragHandleProps,{ref:l.innerRef}),n,s.a.createElement("span",{className:"close",onClick:function(l){return a.removeField(l,t,e.colId)}},s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("span",{className:"settings",onClick:function(a){return e.openModal(a,"fieldSettings","Field Settings ( ID: ".concat(e.allFields[t].formFieldId,")"),t)}},s.a.createElement("i",{className:"fas fa-cog"})))})}),S=(t(103),function(e){var a=e.columnFields.map(function(a,t){return s.a.createElement(w,{openModal:e.openModal,sectionName:e.sectionName,allFields:e.allFields,key:t,index:t,colId:e.colId,fieldId:a,fieldProps:e.fieldProps})});return s.a.createElement("div",{className:"col-cont pure-u-1 pure-u-md-"+e.size},s.a.createElement("div",{className:"column"},s.a.createElement(v.c,{type:e.sectionName,droppableId:e.colId},function(t,l){var n=l.isDraggingOver?"activeColumn":"";return s.a.createElement("div",Object.assign({className:n+" droppableColumn"},t.droppableProps,{ref:t.innerRef}),a,t.placeholder,s.a.createElement("div",{className:"view-empty-placeholder",onClick:function(a){return e.openModal(a,"addField","Add Field",e.colId,e.sectionName)}},s.a.createElement("i",{className:"fas fa-plus"})))})))}),g=(t(105),function(e){var a=e.rowColumns,t=e.sectionName,n=e.rowId,o=a.map(function(a,t){return s.a.createElement(S,{title:e.allColumns[a].title,sectionName:e.sectionName,columnFields:e.allColumns[a].fields,key:t,openModal:e.openModal,allFields:e.allFields,fieldProps:e.fieldProps,colId:a,size:e.allColumns[a].size})}),c="";return("grid"==e.viewType&&"loop"==e.sectionName||"loop"!=e.sectionName)&&(c=s.a.createElement("span",null,s.a.createElement("span",{className:"view-layout view-setting-icon",onClick:function(a){return e.openModal(a,"layout","Choose Layout",n,e.sectionName)}},s.a.createElement("i",{className:"fas fa-columns"})),s.a.createElement("span",{className:"view-row-remove view-setting-icon",onClick:function(a){return e.deleteRow(a,n,t)}},s.a.createElement("i",{className:"fas fa-times"})))),s.a.createElement(l.Fragment,null,s.a.createElement(v.c,{droppableId:"row".concat(n),type:"row"},function(e){return s.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{className:"row pure-g"}),s.a.createElement("div",{className:"rowSettingsPanel"},c),s.a.createElement("div",{className:"columnPanel"},o),e.placeholder)}),"table"==e.viewType&&"loop"==e.sectionName&&s.a.createElement("p",null,"Each field will be displayed as a column in the table."))}),h=(t(107),function(e){var a=e.sectionRows.map(function(a,t){return s.a.createElement(g,{rowColumns:e.allRows[a].cols,sectionName:e.sectionName,key:a,rowId:a,allColumns:e.allColumns,allFields:e.allFields,viewType:e.viewType,addFieldModal:e.addFieldModal,fieldProps:e.fieldProps,addRow:e.addRow,openModal:e.openModal,deleteRow:e.deleteRow})});return s.a.createElement("div",{className:"viewSectionContainer viewTabChild"},s.a.createElement("h2",{className:"viewSecHeading"}," ",e.sectionLabel," "),a,("grid"==e.viewType&&"loop"==e.sectionName||"loop"!=e.sectionName)&&s.a.createElement("span",{className:"addRow",onClick:function(a){return e.addRow(a,e.sectionName)}},s.a.createElement("span",{className:"addRowIcon"},s.a.createElement("i",{className:"fas fa-plus"}))," ",s.a.createElement("span",{className:"addRowText"},"Add Row")))}),O=function(e){var a=e.viewSettingsProps;return s.a.createElement("div",{className:"pure-form viewInlineSec"},s.a.createElement("label",{className:""},"Submissions Per Page"),s.a.createElement("input",{name:"perPage",type:"text",value:a.viewSettings.multipleentries.perPage,onChange:function(e){return a.saveViewSetting(e,"multipleentries")}}))},j=function(e){var a=e.viewSettingsProps;return s.a.createElement("div",{className:"pure-form viewInlineSec"},s.a.createElement("label",{className:""},"Sort direction"),s.a.createElement("select",{name:"direction",onChange:function(e){return a.saveViewSetting(e,"sort")},value:a.viewSettings.sort.direction},s.a.createElement("option",{value:"ASC"},"ASC"),s.a.createElement("option",{value:"DESC"},"DESC")))},k=(t(109),function(e){var a=e.viewSettingsProps;return s.a.createElement("div",{className:"advanceSettingCont viewSectionContainer pure-form"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Advance Settings"),s.a.createElement(O,{viewSettingsProps:a}),s.a.createElement(j,{viewSettingsProps:a})))}),I=t(52),F=t.n(I),L=(t(119),function(e){var a=e.modalProps;return s.a.createElement(l.Fragment,null,s.a.createElement("div",{className:"layoutBody"},s.a.createElement("ul",{className:"container"},s.a.createElement("li",{className:"layout-1 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-1")}},s.a.createElement("div",{className:"layoutCol pure-u-1-1"},s.a.createElement("div",{className:"layoutColStyle"}," "))),s.a.createElement("li",{className:"layout-1-2 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-2,1-2")}},s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2"))),s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2")))),s.a.createElement("li",{className:"layout-1-3 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-3,1-3,1-3")}},s.a.createElement("div",{className:"layoutCol pure-u-1-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/3"))),s.a.createElement("div",{className:"layoutCol pure-u-1-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/3"))),s.a.createElement("div",{className:"layoutCol pure-u-1-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/3")))),s.a.createElement("li",{className:"layout-1-4 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-4,1-4,1-4,1-4")}},s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4")))),s.a.createElement("li",{className:"layout-1-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-5,1-5,1-5,1-5,1-5")}},s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5")))),s.a.createElement("li",{className:"layout-1-6 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-6,1-6,1-6,1-6,1-6,1-6")}},s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6")))),s.a.createElement("li",{className:"layout-2-5-3-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"2-5,3-5")}},s.a.createElement("div",{className:"layoutCol pure-u-2-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"2/5"))),s.a.createElement("div",{className:"layoutCol pure-u-3-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/5")))),s.a.createElement("li",{className:"layout-3-5-2-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"3-5,2-5")}},s.a.createElement("div",{className:"layoutCol pure-u-3-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/5"))),s.a.createElement("div",{className:"layoutCol pure-u-2-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"2/5")))),s.a.createElement("li",{className:"layout-1-3-2-3 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-3,2-3")}},s.a.createElement("div",{className:"layoutCol pure-u-1-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/3"))),s.a.createElement("div",{className:"layoutCol pure-u-2-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"2/3")))),s.a.createElement("li",{className:"layout-2-3-1-3 pure-g",onClick:function(e){return a.updateColumnLayout(e,"2-3,1-3")}},s.a.createElement("div",{className:"layoutCol pure-u-2-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"2/3"))),s.a.createElement("div",{className:"layoutCol pure-u-1-3"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/3")))),s.a.createElement("li",{className:"layout-1-4-3-4 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-4,3-4")}},s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-3-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/4")))),s.a.createElement("li",{className:"layout-3-4-1-4 pure-g",onClick:function(e){return a.updateColumnLayout(e,"3-4,1-4")}},s.a.createElement("div",{className:"layoutCol pure-u-3-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4")))),s.a.createElement("li",{className:"layout-1-4-1-2-1-4 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-4,1-2,1-4")}},s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4")))),s.a.createElement("li",{className:"layout-1-5-3-5-1-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-5,3-5,1-5")}},s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-3-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5")))),s.a.createElement("li",{className:"layout-1-4-1-4-1-2 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-4,1-4,1-2")}},s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2")))),s.a.createElement("li",{className:"layout-1-2-1-4-1-4 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-2,1-4,1-4")}},s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4"))),s.a.createElement("div",{className:"layoutCol pure-u-1-4"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/4")))),s.a.createElement("li",{className:"layout-1-5-1-5-3-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"1-5,1-5,3-5")}},s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-3-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/5")))),s.a.createElement("li",{className:"layout-3-5-1-5-1-5 pure-g",onClick:function(e){return a.updateColumnLayout(e,"3-5,1-5,1-5")}},s.a.createElement("div",{className:"layoutCol pure-u-3-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"3/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5"))),s.a.createElement("div",{className:"layoutCol pure-u-1-5"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/5")))),s.a.createElement("li",{className:"layout-1-6-1-6-1-6-1-2 pure-g view-layout-last-row",onClick:function(e){return a.updateColumnLayout(e,"1-6,1-6,1-6,1-2")}},s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2")))),s.a.createElement("li",{className:"layout-1-2-1-6-1-6-1-6 pure-g view-layout-last-row",onClick:function(e){return a.updateColumnLayout(e,"1-2,1-6,1-6,1-6")}},s.a.createElement("div",{className:"layoutCol pure-u-1-2"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/2"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6"))),s.a.createElement("div",{className:"layoutCol pure-u-1-6"},s.a.createElement("div",{className:"layoutColStyle"},s.a.createElement("span",{className:"layoutName"},"1/6")))))))}),T=(t(121),function(e){var a=e.modalProps,t=Object.keys(a.formFields).map(function(e,t){var l="";return"beforeloop"!=a.activeSection&&"afterloop"!=a.activeSection&&(l="( ID:".concat(e," )")),s.a.createElement("li",{key:"add".concat(e),onClick:function(t){return a.addField(t,e)}},a.formFields[e].label,l)});return s.a.createElement("ul",{className:"add-fields-list"},t)}),P=(t(123),function(e){var a=e.modalProps,t=a.currentId,l=a.fieldSettings,n=function(e){var a=e.target.className;l[a]="checkbox"===e.target.type?e.target.checked:e.target.value};return s.a.createElement("div",{className:"fieldSettings pure-form pure-form-aligned"},s.a.createElement("fieldset",null,s.a.createElement("div",{className:"pure-control-group"},s.a.createElement("label",null,"  Use Custom Label?"),s.a.createElement("input",{className:"useCustomLabel",defaultChecked:l.useCustomLabel,onChange:n,type:"checkbox"})),s.a.createElement("div",{className:"pure-control-group"},s.a.createElement("label",null," Custom Label"),s.a.createElement("input",{className:"label",defaultValue:l.label,onChange:n,type:"text"})),s.a.createElement("div",{className:"pure-control-group"},s.a.createElement("label",null," Css Class"),s.a.createElement("input",{className:"customClass",defaultValue:l.customClass,onChange:n,type:"text"})),s.a.createElement("div",{className:"pure-control-group form-action-btns"},s.a.createElement("button",{className:"pure-button pure-button-primary",onClick:function(e){return a.saveFieldSettings(e,t,l)}},"Save"),s.a.createElement("button",{className:"pure-button",onClick:a.closeModal},"Cancel"))))}),R=(t(125),function(e){var a=e.modalProps,t="";return"layout"==a.type?t=s.a.createElement(L,{modalProps:e.modalProps}):"addField"==a.type?t=s.a.createElement(T,{modalProps:e.modalProps}):"fieldSettings"==a.type&&(t=s.a.createElement(P,{modalProps:e.modalProps})),s.a.createElement(F.a,{ariaHideApp:!1,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,portalClassName:"modal-portal ".concat(a.type),className:"modal-container ".concat(a.type),role:"dialog",parentSelector:function(){return document.getElementById("views-container")},isOpen:a.isVisible},s.a.createElement("div",{className:"layoutHead"},s.a.createElement("h2",{className:"layoutHeading"},a.label," "),s.a.createElement("span",{onClick:a.closeModal,className:"closeLayoutOption"},s.a.createElement("i",{className:"fas fa-times"}))),t)}),D=(t(127),function(e){function a(){var e,t;Object(m.a)(this,a);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={env:"local",viewSource:{formId:""},viewSettings:{multipleentries:{perPage:25},singleEntry:{},filter:{},sort:{direction:"ASC"}},sections:{beforeloop:{rows:[],tabname:"multipleentries",label:"Before Submission List"},loop:{rows:[],tabname:"multipleentries",label:"Submission List"},afterloop:{rows:[],tabname:"multipleentries",label:"After Submission List"},singleloop:{rows:[],tabname:"singleentries",label:"Single Submission"}},rows:{},columns:{},fields:{},formsList:[],formFields:{},defaultFields:{pagination:{label:"Pagination",type:"pagination"},paginationInfo:{label:"Pagination Info",type:"pagination_info"}},viewType:"table",activeTab:"multipleentries",activeSection:"",modal:{type:"layout",label:"layout",isVisible:!1,currentId:null}},t.updateViewSource=function(e){if((0,window.confirm)("Are you sure want to change the View Source? This will reset all your view layout settings.")){var a=Object(E.cloneDeep)(t.state.viewSource);if(a.formId=e.target.value,"production"===t.state.env){var l=window,s=l.ajaxurl,n=l.jQuery,o={action:"nf_views_get_form_fields",form_id:e.target.value},c=Object(N.a)(Object(N.a)(t));n.post(s,o,function(e){var t=Object(E.cloneDeep)(c.state.sections),l=Object(E.cloneDeep)(c.state.rows),s=Object(E.cloneDeep)(c.state.columns),n=Object(E.cloneDeep)(c.state.fields);Object.keys(t).forEach(function(e,a){t[e]=Object(r.a)({},t[e],{rows:[]})}),Object.keys(l).forEach(function(e){return delete l[e]}),Object.keys(s).forEach(function(e){return delete s[e]}),Object.keys(n).forEach(function(e){return delete n[e]});var o=JSON.parse(e),i=Object(r.a)({},o),m=c.createNewRow(t,l,s,"loop");console.log(m);var u=m.sections,d=m.rows,p=m.columns;c.setState({formFields:i,sections:u,rows:d,columns:p,fields:n,viewSource:a})})}else t.setState({viewSource:a})}},t.updateViewType=function(e){if((0,window.confirm)("Are you sure want to change the View Type? This will reset all your View layout settings."))if("table"==e.target.value){var a=Object(E.cloneDeep)(t.state.sections),l=Object(E.cloneDeep)(t.state.rows),s=Object(E.cloneDeep)(t.state.columns),n=Object(E.cloneDeep)(t.state.fields);a.loop.rows.forEach(function(e,a){l[e].cols.forEach(function(e){s[e].fields.forEach(function(e){delete n[e]}),delete s[e]}),delete l[e]}),a.loop.rows=[];var o=t.createNewRow(a,l,s,"loop"),c=o.sections,i=o.rows,r=o.columns;t.setState({sections:c,rows:i,columns:r,fields:n,viewType:e.target.value})}else t.setState({viewType:e.target.value})},t.addRow=function(e,a){var l=Object(E.cloneDeep)(t.state.sections),s=Object(E.cloneDeep)(t.state.rows),n=Object(E.cloneDeep)(t.state.columns),o=t.createNewRow(l,s,n,a),c=o.sections,i=o.rows,r=o.columns;t.setState({sections:c,rows:i,columns:r})},t.createNewRow=function(e,a,l,s){var n=t.generateRandomId("row"),o=t.generateRandomId("column");return e[s].rows.push(n),a[n]={cols:[o]},l[o]={title:"Column",fields:[],size:"1"},{sections:e,rows:a,columns:l}},t.deleteRow=function(e,a,l){var s=Object(r.a)({},t.state.sections),n=Object(r.a)({},t.state.rows),o=Object(r.a)({},t.state.columns),c=Object(r.a)({},n[a]),m=!1;c.cols.forEach(function(e,a){var t=o[e].fields;"undefined"!==typeof t&&t.length>0&&(m=!0)}),m&&alert("Can't delete this row as it contains fields"),c.cols.forEach(function(e,a){delete o[e]}),delete n[a];var u=Object(i.a)(s[l].rows);u.splice(u.indexOf(a),1),s[l]=Object(r.a)({},s[l],{rows:u}),t.setState({sections:s,rows:n,columns:o})},t.onDragEnd=function(e){var a,l=e.destination,s=e.source,n=e.draggableId,o=e.type;if(l&&"row"!==o&&(s.droppableId!==l.droppableId||s.index!==l.index)){var m="",u="";if(s.droppableId===l.droppableId){var d=Object(i.a)(t.state.columns[s.droppableId].fields);d.splice(s.index,1),d.splice(l.index,0,n),m=d,u=d}else(u=Object(i.a)(t.state.columns[s.droppableId].fields)).splice(s.index,1),(m=Object(i.a)(t.state.columns[l.droppableId].fields)).splice(l.index,0,n);var p=Object(r.a)({},t.state.columns,(a={},Object(c.a)(a,s.droppableId,Object(r.a)({},t.state.columns[s.droppableId],{fields:u})),Object(c.a)(a,l.droppableId,Object(r.a)({},t.state.columns[l.droppableId],{fields:m})),a));t.setState({columns:p})}},t.updateColumnLayout=function(e,a){a=a.split(",");var l=Object(r.a)({},t.state.modal),s=Object(r.a)({},t.state.columns),n=Object(i.a)(t.state.rows[l.currentId].cols),o=n.length,m=a.length-o;if(m>0)for(var u=0;u<m;u++){var d=t.generateRandomId("column");n.push(d),s[d]={title:"Column",fields:[],size:""}}if(m<0){for(var p=a.length;p<o;p++){var y=n[p],N=n[a.length-1];s[N]=Object(r.a)({},s[N],{fields:Object(i.a)(s[N].fields).concat(Object(i.a)(s[y].fields))})}n.splice(a.length,Math.abs(m))}n.forEach(function(e,t){s[e]=Object(r.a)({},s[e],{size:a[t]})});var v=Object(r.a)({},t.state.rows,Object(c.a)({},l.currentId,Object(r.a)({},t.state.rows[l.currentId],{cols:n})));l.isVisible=!1,t.setState({rows:v,columns:s,modal:l})},t.addField=function(e,a){var l=Object(r.a)({},t.state.modal),s=Object(r.a)({},t.state.fields),n=Object(r.a)({},t.state.formFields),o=l.currentId,m=t.generateRandomId("field"),u=Object(r.a)({},t.state.columns,Object(c.a)({},o,Object(r.a)({},t.state.columns[o],{fields:Object(i.a)(t.state.columns[o].fields).concat([m])}))),d="";d="beforeloop"==t.state.activeSection||"afterloop"==t.state.activeSection?t.state.defaultFields[a].label:n[a].label,s[m]={formFieldId:a,label:d,fieldSettings:{useCustomLabel:!1,label:d,customClass:""}},l.isVisible=!1,t.setState({fields:s,columns:u,modal:l})},t.removeField=function(e,a,l){var s=Object(E.cloneDeep)(t.state.columns),n=Object(E.cloneDeep)(t.state.fields);delete n[a];var o=Object(E.cloneDeep)(t.state.columns[l].fields);o.splice(o.indexOf(a),1),s[l].fields.splice(s[l].fields.indexOf(a),1),t.setState({fields:n,columns:s})},t.saveFieldSettings=function(e,a,l){var s=Object(r.a)({},t.state.modal),n=Object(E.cloneDeep)(t.state.fields);n[a].fieldSettings=l,s.type="layout",s.isVisible=!1,t.setState({fields:n,modal:s})},t.saveViewSetting=function(e,a){var l=Object(E.cloneDeep)(t.state.viewSettings);l[a][e.target.name]=e.target.value,t.setState({viewSettings:l})},t.openModal=function(e,a,l,s,n){var o=Object(r.a)({},t.state.modal);o.isVisible=!0,o.type=a,o.label=l,o.currentId=s,t.setState({modal:o,activeSection:n})},t.closeModal=function(){var e=Object(r.a)({},t.state.modal);e.type="layout",e.isVisible=!1,t.setState({modal:e})},t.tabClickHandler=function(e){t.setState({activeTab:e.target.id})},t.generateRandomId=function(e){return e+Math.floor(99899*Math.random()+100)},t}return Object(y.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=window,a=e.view_forms,t=e._nf_view_form_fields,l=e._nf_view_saved_settings;if(a){var s={},n=JSON.parse(l),o=JSON.parse(t);Object(E.isEmpty)(n)||(s={formFields:o,viewSource:{formId:n.formId},sections:n.sections,columns:n.columns,fields:n.fields,rows:n.rows,activeTab:n.activeTab,viewSettings:n.viewSettings,viewType:n.viewType}),s.formsList=JSON.parse(a),s.env="production",this.setState(s)}}},{key:"render",value:function(){var e=this;console.log(this.state);var a=JSON.stringify({formId:this.state.viewSource.formId,sections:this.state.sections,rows:this.state.rows,columns:this.state.columns,fields:this.state.fields,activeTab:this.state.activeTab,viewSettings:this.state.viewSettings,viewType:this.state.viewType}),t=this.state.modal,l={type:t.type,label:t.label,isVisible:t.isVisible,currentId:t.currentId,activeSection:this.state.activeSection,closeModal:this.closeModal};switch(t.type){case"addField":l=Object(r.a)({},l,{formFields:"beforeloop"==this.state.activeSection||"afterloop"==this.state.activeSection?this.state.defaultFields:this.state.formFields,addField:this.addField});break;case"fieldSettings":l=Object(r.a)({},l,{fieldSettings:Object(E.cloneDeep)(this.state.fields[t.currentId].fieldSettings),updateFieldSettings:this.updateFieldSettings,saveFieldSettings:this.saveFieldSettings});break;default:l=Object(r.a)({},l,{updateColumnLayout:this.updateColumnLayout})}var n={removeField:this.removeField},o={viewSettings:this.state.viewSettings,activeTab:this.state.activeTab,saveViewSetting:this.saveViewSetting},c=Object(i.a)(this.state.formsList).map(function(e,a){return s.a.createElement(f,{key:"form-".concat(e.id),formId:e.id,label:e.label})}),m=Object(r.a)({},this.state.sections),u=this.state.activeTab,d=Object.keys(m).map(function(a,t){return u===m[a].tabname?s.a.createElement(h,{sectionLabel:m[a].label,sectionName:a,sectionTabName:m[a].tabname,sectionRows:m[a].rows,key:"section".concat(t),id:t,allRows:e.state.rows,allColumns:e.state.columns,allFields:e.state.fields,viewType:e.state.viewType,addFieldModal:e.AddFieldModal,fieldProps:n,addRow:e.addRow,openModal:e.openModal,deleteRow:e.deleteRow}):null}).filter(function(e){return e});return s.a.createElement("div",null,s.a.createElement("textarea",{className:"final-view-settings",readOnly:"readonly",type:"text",value:a,name:"final_view_settings"}),s.a.createElement("div",{className:"viewSourceCont pure-form viewSectionContainer"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Select View Source"),s.a.createElement("select",{value:this.state.viewSource.formId,onChange:this.updateViewSource,className:"view-child"},c))),s.a.createElement(C,{onchange:this.updateViewType,viewType:this.state.viewType}),s.a.createElement("div",{className:"viewSecMainCont"},s.a.createElement("ul",{className:"viewTabHeadings pure-menu-list pure-menu-horizontal"},s.a.createElement(b,{tabName:"multipleentries",tabClickHandler:this.tabClickHandler,label:"Submission List",activetab:this.state.activeTab})),s.a.createElement(v.a,{onDragEnd:this.onDragEnd},d)),s.a.createElement(k,{viewSettingsProps:o}),s.a.createElement(R,{modalProps:l}))}}]),a}(l.Component));o.a.render(s.a.createElement(D,null),document.getElementById("views-container"))},55:function(e,a,t){e.exports=t(129)},61:function(e,a,t){},63:function(e,a,t){}},[[55,2,1]]]);
//# sourceMappingURL=main.0df1a555.chunk.js.map